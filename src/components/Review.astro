---
import RajeshReddy from '../assets/img/RajeshReddy.avif';

const testimonials = [
    {
        name: 'Rajesh Reddy Junnuthula',
        title: 'SDE - Mentor at Infosys Springboard',
        text: `Ajay is an absolute game changer, when it comes to adapting a new technology or meeting tight deadlines.
           I felt quite comfortable working with Ajay and strongly recommend everyone to look for team players like Ajay.`,
        image: RajeshReddy.src,
        alt: 'Rajesh Reddy Junnuthula profile photo',
    },
];
---

<section class="testimonial-section" aria-labelledby="testimonial-heading">

    <!--<h2 id="testimonial-heading" class="testimonial-title" style="font-size: 1.1rem;">Testimonial</h2>-->

    <h2 id="testimonial-heading" class="testimonial-title" style="font-size: 1.1rem;">They said it, I just highlighted it</h2>

    <div class="testimonial-scroll-wrapper">
        <div class="testimonial-scroll-track">
            {testimonials.map((t, index) => (
                    <article class="testimonial-card">
                        <p class="testimonial-text" >
                            “{t.text}”
                        </p>

                        <footer class="testimonial-footer-container">
                            <div class="testimonial-footer-img">
                                <img
                                        src={t.image}
                                        alt={t.alt}
                                        width="50"
                                        height="50"
                                        decoding="async"
                                        loading={index === 0 ? "eager" : "lazy"}
                                        fetchpriority={index === 0 ? "high" : "auto"}
                                />
                            </div>

                            <div class="testimonial-footer-info">
                                <strong>{t.name}</strong>
                                <span class="mentor-info">{t.title}</span>
                            </div>
                        </footer>
                    </article>
            ))}
        </div>
    </div>
</section>

<style>
    .testimonial-section {
        max-width: 100%;
    }

    .testimonial-title {
        text-align: center;

    }

    .testimonial-scroll-wrapper {
        position: relative;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        scroll-snap-align: start;
        scroll-behavior: smooth;
    }

    .testimonial-scroll-track {
        display: flex;
        justify-content: center;
        align-items: center;

        gap: 1rem;
        //animation: scroll-left 30s linear infinite;
    }

    .testimonial-card {
        flex: 0 0 100%;
        margin-top: 1rem;
        border: 1px dashed var(--card-border);
        padding: 1.5rem 1.25rem;
        border-radius: 10px;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        width: 100%;
        overflow: hidden;
        backdrop-filter: blur(20px);
        position: relative;
    }
    .testimonial-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s ease;
    }
    .testimonial-card:hover::before {
        left: 100%;
    }
    .testimonial-card:hover {
        //transform: translateY(-4px);
        //box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        //background-color: var(--background-hover);
        //border: 1px solid var(--text5);
        cursor: pointer;

        background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), transparent);
        border: 1px solid rgba(255, 255, 255, 0.15);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .testimonial-text {
        font-size: 1rem;
        font-style: italic;
        color: var(--text4);
        line-height: 1.6;
        margin-bottom: 1rem;
    }

    .testimonial-footer-container {
        display: flex;
        align-items: center;
        font-size: 0.9rem;
        color: var(--text2);
    }

    .testimonial-footer-img img {
        border-radius: 50%;
        margin-right: 1rem;
    }

    .testimonial-footer-info {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .testimonial-footer-container strong {
        color: var(--subheading);
        font-size: 0.9rem;
        font-weight: 600;
    }

    .mentor-info {
        font-size: 0.85rem;
        color: var(--text4);
    }

    @keyframes scroll-left {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }

    ///* Optional pause on hover */
    //.testimonial-scroll-wrapper:hover .testimonial-scroll-track {
    //    animation-play-state: paused;
    //}

    @media (max-width: 375px) {
        .testimonial-card {
            padding: 1.2rem 1.04rem;
        }
    }

    //@media (max-width: 425px) {
    //    .testimonial-card {
    //        padding: 1.2rem 1rem;
    //    }
    //}
</style>
